window.onload=function(){build(),setting(),generate()};var random=function(e,a){return Math.floor(Math.random()*(a-e+1)+e)},engine=new function(){var settings={},modify=function(key,value){var action=/^[-+*/]([-+*/][0-9.]+)$/.exec(value);null===action||action.length<1?settings[key]=value:settings[key]=eval(settings[key]+action[1])};this.set=function(e){for(var a in e)modify(a,e[a])},this.delete=function(e){delete settings[e]},this.get=function(e){return settings[e]}};engine.set({data:new data});var build=function(){document.body.insertAdjacentHTML("beforeend",'<div class="genPage"><p class="title">Frankenstein Page Generator</p><div class="generate" ><div class="result"></div><button class="random" onclick="generate()">generate</button></div><div class="randomInput" status="true" ><button class="menuLeft" onclick="toogle(event)">MENU</button><p><label>All:    </label><span class="value all"   >0</span><span class="value all min">0</span><input  onmousemove="update(event,\'all\')"    type="range" id="all"   min="0" max="1" value="0"><span class="value all max"></span></p><p><label>Header: </label><span class="value header"></span><span class="value header min">0</span><input  onmousemove="update(event,\'header\')" type="range" id="header" min="0" max="1" value="1"><span class="value header max"></span></p><p class="centerOption"><label>Center:</label><select class="selectedCenterModule" onchange="setCenter(event)" ></select></p><p class="module landing"  ><label>Landing: </label><span class="value landing"></span><span class="value landing min">0</span><input  onmousemove="update(event,\'landing\')" type="range" id="landing" min="0" max="1" value="1"><span class="value landing max"></span></p><p><label>Footer: </label><span class="value footer"></span><span class="value footer min">0</span><input  onmousemove="update(event,\'footer\')" type="range" id="footer" min="0" max="1" value="1"><span class="value footer max"></span></p><p><label>Zoom:   </label><span class="value zoom">1</span><span class="value zoom min">0</span><input  onmousemove="zoom(event) "type="range" id="zoom" min="0.1" max="2" step="0.1" value="1"><span class="value zoom max">2</span></p><p><label>Remove Bg:</label><input class="removeBg" onclick="dataImg(event)" type="checkbox" checked></p><p><label>Bg:</label><select class="selectedBg" onchange="setBg(event)" ><option class="optBg" value="transparent">transparent</option></select></p></div><div class="wrapper"></div></div>'),update_bg_color_sel(),update_center_modul_sel(),update_center_active("landing")},update=function(e,a,t){var n=engine.get("data"),l=n.value_header,o=n.value_landing,r=n.value_footer,u=n.max_header,s=n.max_landing,d=n.max_footer;void 0==t&&("header"==a?l=e.target.value:"landing"==a?o=e.target.value:"footer"==a?r=e.target.value:"all"==a&&(l=e.target.value<=u?e.target.value:u-1,o=e.target.value<s?e.target.value:s-1,r=e.target.value<=d?e.target.value:d-1,document.querySelector("span.all").innerHTML=e.target.value)),update_values(l,o,r),update_img(l,o,r)},toogle=function(e){var a=document.querySelector(".randomInput");"true"!==a.getAttribute("status")?a.setAttribute("status","true"):a.setAttribute("status","false")},setting=function(){engine.get("data").max_header=engine.get("data").header.length,engine.get("data").max_landing=engine.get("data").landing.length,engine.get("data").max_footer=engine.get("data").footer.length,engine.get("data").img="img";var e=engine.get("data").max_header-1,a=engine.get("data").max_landing-1,t=engine.get("data").max_footer-1;document.querySelector("#header").setAttribute("max",e),document.querySelector("#landing").setAttribute("max",a),document.querySelector("#footer").setAttribute("max",t),document.querySelector(".value.header.max").innerHTML=e,document.querySelector(".value.landing.max").innerHTML=a,document.querySelector(".value.footer.max").innerHTML=t,document.querySelector(".value.all.max").innerHTML=t,document.querySelector("#all").setAttribute("max",e)},dataImg=function(e){var a=e.target.checked;engine.get("data").img=1==a?"img":"img_clear",update(event,"all",!0)},update_values=function(e,a,t){var n=engine.get("data").acviteCenter,l=engine.get("data");l.value_header=e,l.value_landing=a,l.value_footer=t,document.querySelector("#header").value=e,document.querySelector("#"+n).value=a,document.querySelector("#footer").value=t,document.querySelector("span.header").innerHTML=e,document.querySelector("span."+n).innerHTML=a,document.querySelector("span.footer").innerHTML=t,document.querySelector(".result").innerHTML="<label ><span>Header:</span> "+l.header[e].split("_")[0]+" </label><label> <span>landing:</span> "+l.header[a].split("_")[0]+" </label><label> <span>Footer:</span> "+l.header[t].split("_")[0]+"</label>"},update_img=function(e,a,t){var n=engine.get("data").acviteCenter,l=engine.get("data"),o=document.querySelector(".wrapper"),r='<label class="header"  ><img src="'+l.img+"/"+l.header[e]+'"></label><label class="landing" ><img src="'+l.img+"/"+l[n][a]+'"></label><label class="footer"  ><img src="'+l.img+"/"+l.footer[t]+'"></label><div class="clearfix"><div>';o.innerHTML=r},generate=function(){engine.get("data").acviteCenter;var e=engine.get("data"),a=(e.header,e.landing,e.footer,e.max_header-1),t=e.max_landing-1,n=e.max_footer-1;e.random_h=random(0,a),e.random_c=random(0,t),e.random_f=random(0,n),update_img(e.random_h,e.random_c,e.random_f),update_values(e.random_h,e.random_c,e.random_f)},setBg=function(e){document.querySelector(".wrapper").style.background=e.target.value},selBg=function(e){document.querySelector(".wrapper").style.background=document.querySelector(".selectedBg").value},zoom=function(e){document.querySelector(".wrapper").setAttribute("style","transform: scale("+e.target.value+");-moz-transform: scale("+e.target.value+")"),document.querySelector(".zoom").innerHTML=e.target.value},update_bg_color_sel=function(){var e=engine.get("data").color,a=document.querySelector(".selectedBg"),t="";for(var n in e)t+='<option class="optBg" value="'+e[n].hex+'">'+e[n].name+" ( "+e[n].hex+" ) </option>";a.insertAdjacentHTML("beforeend",t)},update_center_modul_sel=function(){var e=engine.get("data").centerModule2,a=document.querySelector(".selectedCenterModule"),t="";for(var n in e)t+='<option class="optBg" value="'+e[n].id+'">'+e[n].name+"</option>";a.insertAdjacentHTML("beforeend",t)},setCenter=function(){var e=document.querySelector(".selectedCenterModule").value;console.log(engine.get("data")[e].length),engine.get("data").max_landing=engine.get("data")[e].length,document.querySelector("p.module").remove(),content='<p class="module '+e+'"  ><label>'+e+': </label><span class="value '+e+'">0</span><span class="value '+e+' min">0</span><input  onmousemove="update(event,\''+e+'\')" type="range" id="'+e+'" min="0" max="'+(engine.get("data").max_landing-1)+'" value="0"><span class="value '+e+' max">'+(engine.get("data").max_landing-1)+"</span></p>",document.querySelector(".centerOption").insertAdjacentHTML("afterend",content),update_center_active(e);var a=engine.get("data").value_header,t=engine.get("data").value_footer;engine.get("data").value_landing=0;update_values(a,0,t)},update_center_active=function(e){console.log(e),engine.get("data").acviteCenter=e,document.querySelector("."+e).setAttribute("status","active")};